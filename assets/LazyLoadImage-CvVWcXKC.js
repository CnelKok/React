import{r as o,j as a}from"./index-BAnmHbMa.js";function E({lowSrc:w,smallSrc:c,mediumSrc:f,highSrc:t,sizes:n="50vw",alt:d,width:l,height:u,fill:g=!1,className:v=""}){const[h,x]=o.useState(!1),[s,y]=o.useState(!1),r=o.useRef(null),i=[c&&`${c} 480w`,f&&`${f} 768w`,t&&`${t} 1280w`].filter(Boolean).join(", ");o.useEffect(()=>{if(!r.current)return;const e=new IntersectionObserver(j=>{j.forEach(I=>{I.isIntersecting&&(y(!0),e.disconnect())})},{rootMargin:"100px"});return e.observe(r.current),()=>e.disconnect()},[]),o.useEffect(()=>{if(!s)return;const e=new Image;i?(e.srcset=i,e.sizes=n):e.src=t,e.onload=()=>x(!0)},[s,t,i,n]);const m=g?{position:"relative",width:"100%",height:"100%",overflow:"hidden",flexShrink:0}:{position:"relative",width:"100%",paddingBottom:l&&u?`${u/l*100}%`:"auto",overflow:"hidden"},p={position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.3s"};return a.jsxs("div",{ref:r,style:m,className:v,children:[a.jsx("img",{src:w,alt:d,style:p,fetchPriority:"high","aria-hidden":s}),s&&a.jsx("img",{src:t,srcSet:i,sizes:n,alt:d,style:{...p,opacity:h?1:0}})]})}export{E as L};
