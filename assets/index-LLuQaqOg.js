const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-OfxKQUke.js","assets/index-CerocmZO.js","assets/index-DYG_9w3P.css","assets/useDocumentTitle-Cko8p2Ei.js","assets/LazyLoadImage-DVQJYjxC.js","assets/index-D30kJAOr.css","assets/index-B3vDljCI.js","assets/index-BL3IaS87.css"])))=>i.map(i=>d[i]);
import{r as o,j as e,_ as p,F as b}from"./index-CerocmZO.js";import{u as j}from"./useDocumentTitle-Cko8p2Ei.js";import{L as v}from"./LazyLoadImage-DVQJYjxC.js";const S=o.createContext(null),g={didCatch:!1,error:null};class R extends o.Component{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=g}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){const{error:r}=this.state;if(r!==null){for(var n,s,i=arguments.length,l=new Array(i),t=0;t<i;t++)l[t]=arguments[t];(n=(s=this.props).onReset)===null||n===void 0||n.call(s,{args:l,reason:"imperative-api"}),this.setState(g)}}componentDidCatch(r,n){var s,i;(s=(i=this.props).onError)===null||s===void 0||s.call(i,r,n)}componentDidUpdate(r,n){const{didCatch:s}=this.state,{resetKeys:i}=this.props;if(s&&n.error!==null&&z(r.resetKeys,i)){var l,t;(l=(t=this.props).onReset)===null||l===void 0||l.call(t,{next:i,prev:r.resetKeys,reason:"keys"}),this.setState(g)}}render(){const{children:r,fallbackRender:n,FallbackComponent:s,fallback:i}=this.props,{didCatch:l,error:t}=this.state;let c=r;if(l){const m={error:t,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")c=n(m);else if(s)c=o.createElement(s,m);else if(i!==void 0)c=i;else throw t}return o.createElement(S.Provider,{value:{didCatch:l,error:t,resetErrorBoundary:this.resetErrorBoundary}},c)}}function z(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.length!==r.length||a.some((n,s)=>!Object.is(n,r[s]))}const B="_home__section_1qgc0_1",T="_home__error_1qgc0_21",h={home__section:B,home__error:T},C="_slider_1egs4_1",L="_slider__container_1egs4_13",x={slider:C,slider__container:L},N="/React/slider/1.webp",P="/React/slider/2.webp",k="/React/slider/3.webp",D="/React/slider/4.webp",I="/React/slider/resized/1_placeholder.webp",O="/React/slider/resized/2_placeholder.webp",A="/React/slider/resized/3_placeholder.webp",F="/React/slider/resized/4_placeholder.webp",M="/React/slider/resized/1_medium.webp",V="/React/slider/resized/2_medium.webp",q="/React/slider/resized/3_medium.webp",K="/React/slider/resized/4_medium.webp",$="/React/slider/resized/1_small.webp",H="/React/slider/resized/2_small.webp",U="/React/slider/resized/3_small.webp",X="/React/slider/resized/4_small.webp",u=[{imgBig:N,imgPlaceholder:I,imgMedium:M,imgSmall:$},{imgBig:P,imgPlaceholder:O,imgMedium:V,imgSmall:H},{imgBig:k,imgPlaceholder:A,imgMedium:q,imgSmall:U},{imgBig:D,imgPlaceholder:F,imgMedium:K,imgSmall:X}],G=()=>{const[a,r]=o.useState(0),[n,s]=o.useState(!0),[i,l]=o.useState(null),t=o.useRef(null),c=5e3,m=()=>{_(),t.current=setTimeout(m,c)};o.useEffect(()=>{t.current=setTimeout(m,c);const d=()=>{document.hidden?clearTimeout(t.current):(clearTimeout(t.current),t.current=setTimeout(m,c))};return document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d),clearTimeout(t.current)}});const _=()=>{s(!0),r(d=>d+1),l("forward")},E=()=>{switch(i){case"forward":a===u.length&&(s(!1),r(0));break;case"backward":a===-1&&(s(!1),r(u.length-1));break}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:x.slider,children:e.jsxs("div",{className:x.slider__container,style:{transform:`translateX(-${a*100}%)`,transition:n?"transform 0.4s":""},onTransitionEnd:E,children:[u.map((d,f)=>e.jsx(v,{lowSrc:d.imgPlaceholder,highSrc:d.imgBig,mediumSrc:d.imgMedium,smallSrc:d.imgSmall,alt:`Слайд ${f+1}`,fill:!0},f)),e.jsx(v,{lowSrc:u[0].imgPlaceholder,highSrc:u[0].imgBig,mediumSrc:u[0].imgMedium,smallSrc:u[0].imgSmall,alt:"Слайд 1",fill:!0})]})})})},J={"lazy-wrapper":"_lazy-wrapper_ivqu3_1"};function y({loader:a,fallback:r=null,rootMargin:n="0px",...s}){const i=o.useRef(),[l,t]=o.useState(null);return o.useEffect(()=>{if(!i.current)return;const c=new IntersectionObserver(([m])=>{if(m.isIntersecting){const _=o.lazy(a);t(()=>_),c.disconnect()}},{rootMargin:n});return c.observe(i.current),()=>c.disconnect()},[a,n]),e.jsx("div",{ref:i,className:J["lazy-wrapper"],children:l?e.jsx(o.Suspense,{fallback:r,children:e.jsx(l,{...s})}):r})}const w={"error-connection":"_error-connection_1ggm8_1","error-connection__inner":"_error-connection__inner_1ggm8_9"},Q=({className:a})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:`${w["error-connection"]}`,children:e.jsx("div",{className:`error-connection__wrapper ${a}`,children:e.jsxs("div",{className:w["error-connection__inner"],children:[e.jsx("h2",{children:"Ошибка подключения"}),e.jsx("p",{children:"Проверьте сеть и пропробуйте перезагрузить страницу"})]})})})}),W=o.lazy(()=>p(()=>import("./index-OfxKQUke.js"),__vite__mapDeps([0,1,2,3,4,5]))),Y=()=>(j("ОИК | Официальный сайт | ОИК"),e.jsxs(e.Fragment,{children:[e.jsx(G,{}),e.jsx(W,{}),e.jsxs(R,{fallback:e.jsx(Q,{className:`${h.home__error} container`}),children:[e.jsx(y,{loader:()=>p(()=>import("./index-B3vDljCI.js"),__vite__mapDeps([6,1,2,7])),fallback:e.jsx(b,{className:`${h.home__section} container`}),type:"news"}),e.jsx(y,{loader:()=>p(()=>import("./index-B3vDljCI.js"),__vite__mapDeps([6,1,2,7])),fallback:e.jsx(b,{className:`${h.home__section} container`}),type:"portfolio"})]})]})),te=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{R as E,Q as a,te as i};
