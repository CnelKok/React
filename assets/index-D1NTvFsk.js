const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Divm1F1m.js","assets/index-BY3gjpeT.js","assets/index-QU10oZ7y.css","assets/index-uFDrPoCn.js","assets/index-ChlghmyT.css","assets/useDocumentTitle-DwMzDnbF.js","assets/LazyLoadImage-DZNrPHaN.js","assets/index-D30kJAOr.css","assets/index-aSNjclWm.js","assets/index-BL3IaS87.css"])))=>i.map(i=>d[i]);
import{r as o,j as s,_}from"./index-BY3gjpeT.js";import{u as x}from"./useDocumentTitle-DwMzDnbF.js";import{L as b}from"./LazyLoadImage-DZNrPHaN.js";const S=o.createContext(null),h={didCatch:!1,error:null};class R extends o.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=h}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var i,t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];(i=(t=this.props).onReset)===null||i===void 0||i.call(t,{args:l,reason:"imperative-api"}),this.setState(h)}}componentDidCatch(e,i){var t,n;(t=(n=this.props).onError)===null||t===void 0||t.call(n,e,i)}componentDidUpdate(e,i){const{didCatch:t}=this.state,{resetKeys:n}=this.props;if(t&&i.error!==null&&z(e.resetKeys,n)){var l,r;(l=(r=this.props).onReset)===null||l===void 0||l.call(r,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(h)}}render(){const{children:e,fallbackRender:i,FallbackComponent:t,fallback:n}=this.props,{didCatch:l,error:r}=this.state;let c=e;if(l){const m={error:r,resetErrorBoundary:this.resetErrorBoundary};if(typeof i=="function")c=i(m);else if(t)c=o.createElement(t,m);else if(n!==void 0)c=n;else throw r}return o.createElement(S.Provider,{value:{didCatch:l,error:r,resetErrorBoundary:this.resetErrorBoundary}},c)}}function z(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.length!==e.length||a.some((i,t)=>!Object.is(i,e[t]))}const j="_home__section_1qgc0_1",T="_home__error_1qgc0_21",p={home__section:j,home__error:T},B="_slider_1egs4_1",C="_slider__container_1egs4_13",E={slider:B,slider__container:C},L="/React/slider/1.webp",P="/React/slider/2.webp",D="/React/slider/3.webp",I="/React/slider/4.webp",O="/React/slider/resized/1_placeholder.webp",A="/React/slider/resized/2_placeholder.webp",k="/React/slider/resized/3_placeholder.webp",N="/React/slider/resized/4_placeholder.webp",V="/React/slider/resized/1_medium.webp",M="/React/slider/resized/2_medium.webp",F="/React/slider/resized/3_medium.webp",q="/React/slider/resized/4_medium.webp",K="/React/slider/resized/1_small.webp",H="/React/slider/resized/2_small.webp",U="/React/slider/resized/3_small.webp",X="/React/slider/resized/4_small.webp",u=[{imgBig:L,imgPlaceholder:O,imgMedium:V,imgSmall:K},{imgBig:P,imgPlaceholder:A,imgMedium:M,imgSmall:H},{imgBig:D,imgPlaceholder:k,imgMedium:F,imgSmall:U},{imgBig:I,imgPlaceholder:N,imgMedium:q,imgSmall:X}],G=()=>{const[a,e]=o.useState(0),[i,t]=o.useState(!0),[n,l]=o.useState(null),r=o.useRef(null),c=5e3,m=()=>{g(),r.current=setTimeout(m,c)};o.useEffect(()=>{r.current=setTimeout(m,c);const d=()=>{document.hidden?clearTimeout(r.current):(clearTimeout(r.current),r.current=setTimeout(m,c))};return document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d),clearTimeout(r.current)}});const g=()=>{t(!0),e(d=>d+1),l("forward")},w=()=>{switch(n){case"forward":a===u.length&&(t(!1),e(0));break;case"backward":a===-1&&(t(!1),e(u.length-1));break}};return s.jsx(s.Fragment,{children:s.jsx("div",{className:E.slider,children:s.jsxs("div",{className:E.slider__container,style:{transform:`translateX(-${a*100}%)`,transition:i?"transform 0.4s":""},onTransitionEnd:w,children:[u.map((d,f)=>s.jsx(b,{lowSrc:d.imgPlaceholder,highSrc:d.imgBig,mediumSrc:d.imgMedium,smallSrc:d.imgSmall,alt:`Слайд ${f+1}`,fill:!0},f)),s.jsx(b,{lowSrc:u[0].imgPlaceholder,highSrc:u[0].imgBig,mediumSrc:u[0].imgMedium,smallSrc:u[0].imgSmall,alt:"Слайд 1",fill:!0})]})})})},J={"lazy-wrapper":"_lazy-wrapper_ivqu3_1"};function v({loader:a,fallback:e=null,rootMargin:i="0px",...t}){const n=o.useRef(),[l,r]=o.useState(null);return o.useEffect(()=>{if(!n.current)return;const c=new IntersectionObserver(([m])=>{if(m.isIntersecting){const g=o.lazy(a);r(()=>g),c.disconnect()}},{rootMargin:i});return c.observe(n.current),()=>c.disconnect()},[a,i]),s.jsx("div",{ref:n,className:J["lazy-wrapper"],children:l?s.jsx(o.Suspense,{fallback:e,children:s.jsx(l,{...t})}):e})}const Q=o.lazy(()=>_(()=>import("./index-Divm1F1m.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),y=o.lazy(()=>_(()=>import("./useDocumentTitle-DwMzDnbF.js").then(a=>a.i),__vite__mapDeps([5,1,2]))),W=o.lazy(()=>_(()=>import("./index-uFDrPoCn.js"),__vite__mapDeps([3,1,2,4]))),Y=()=>(x("ОИК | Официальный сайт | ОИК"),s.jsxs(s.Fragment,{children:[s.jsx(G,{}),s.jsx(Q,{}),s.jsxs(R,{fallback:s.jsx(W,{className:`${p.home__error} container`}),children:[s.jsx(v,{loader:()=>_(()=>import("./index-aSNjclWm.js"),__vite__mapDeps([8,1,2,9])),fallback:s.jsx(y,{className:`${p.home__section} container`}),type:"news"}),s.jsx(v,{loader:()=>_(()=>import("./index-aSNjclWm.js"),__vite__mapDeps([8,1,2,9])),fallback:s.jsx(y,{className:`${p.home__section} container`}),type:"portfolio"})]})]})),re=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{R as E,re as i};
