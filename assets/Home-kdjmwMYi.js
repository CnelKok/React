const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ZvrrIw_6.js","assets/index-DLhjOqk_.js","assets/index-BXJncjuP.css","assets/index-D7MtbfPH.css","assets/index-DvZu5lgv.js","assets/index-C-Xz9lS0.css"])))=>i.map(i=>d[i]);
import{r as t,j as e,u as v,_ as g,F as f}from"./index-DLhjOqk_.js";const y="_slider_1egs4_1",E="_slider__container_1egs4_13",b={slider:y,slider__container:E},w="/React/slider/1.webp",S="/React/slider/2.webp",T="/React/slider/3.webp",L="/React/slider/4.webp",I="/React/slider/1_small.webp",k="/React/slider/2_small.webp",N="/React/slider/3_small.webp",B="/React/slider/4_small.webp",m=[{imgBig:w,imgSmall:I},{imgBig:S,imgSmall:k},{imgBig:T,imgSmall:N},{imgBig:L,imgSmall:B}],D="_image__inner_12h1o_1",V="_image_12h1o_1",h={image__inner:D,image:V},p=({path:s})=>{const n=t.useRef(null),[c,i]=t.useState(!1);return t.useEffect(()=>{var r;(r=n.current)!=null&&r.complete&&i(!0)},[]),e.jsx("div",{className:h.image,style:{backgroundImage:`url(${s.imgSmall})`},children:e.jsx("img",{ref:n,src:s.imgBig,alt:"",className:h.image__inner,style:{opacity:c?1:0,transitionDuration:"0.2s"},onLoad:()=>i(!0),loading:"lazy"})})},z=()=>{const[s,n]=t.useState(0),[c,i]=t.useState(!0),[r,u]=t.useState(null),a=t.useRef(null),l=5e3,d=()=>{_(),a.current=setTimeout(d,l)};t.useEffect(()=>{a.current=setTimeout(d,l);const o=()=>{document.hidden?clearTimeout(a.current):(clearTimeout(a.current),a.current=setTimeout(d,l))};return document.addEventListener("visibilitychange",o),()=>{document.removeEventListener("visibilitychange",o),clearTimeout(a.current)}});const _=()=>{i(!0),n(o=>o+1),u("forward")},j=()=>{switch(r){case"forward":s===m.length&&(i(!1),n(0));break;case"backward":s===-1&&(i(!1),n(m.length-1));break}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:b.slider,children:e.jsxs("div",{className:b.slider__container,style:{transform:`translateX(-${(s+1)*100}%)`,transition:c?"transform 0.4s":""},onTransitionEnd:j,children:[e.jsx(p,{path:m[m.length-1]}),m.map((o,R)=>e.jsx(p,{path:o},R)),e.jsx(p,{path:m[0]})]})})})};function x({loader:s,fallback:n=null,rootMargin:c="0px",...i}){const r=t.useRef(),[u,a]=t.useState(null);return t.useEffect(()=>{if(!r.current)return;const l=new IntersectionObserver(([d])=>{if(d.isIntersecting){const _=t.lazy(s);a(()=>_),l.disconnect()}},{rootMargin:c});return l.observe(r.current),()=>l.disconnect()},[s,c]),e.jsx("div",{ref:r,children:u?e.jsx(t.Suspense,{fallback:n,children:e.jsx(u,{...i})}):n})}const O=()=>(v("ОИК | Официальный сайт | ОИК"),e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx(x,{loader:()=>g(()=>import("./index-ZvrrIw_6.js"),__vite__mapDeps([0,1,2,3])),fallback:e.jsx(f,{className:"container"}),rootMargin:"100px"}),e.jsx(x,{loader:()=>g(()=>import("./index-DvZu5lgv.js"),__vite__mapDeps([4,1,2,5])),fallback:e.jsx(f,{className:"container"}),type:"news"}),e.jsx(x,{loader:()=>g(()=>import("./index-DvZu5lgv.js"),__vite__mapDeps([4,1,2,5])),fallback:e.jsx(f,{className:"container"}),type:"portfolio"})]}));export{O as default};
