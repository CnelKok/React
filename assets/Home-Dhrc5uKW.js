const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CfdoSfc7.js","./index-B55ytitD.js","./index-C6OqHbGa.css","./index-D7MtbfPH.css","./index-Cqm_J3NG.js","./index-C-Xz9lS0.css"])))=>i.map(i=>d[i]);
import{r as t,j as e,u as L,_ as g,F as f}from"./index-B55ytitD.js";const R="_slider_1egs4_1",v="_slider__container_1egs4_13",x={slider:R,slider__container:v},y=""+new URL("../slider/1.webp",import.meta.url).href,E=""+new URL("../slider/2.webp",import.meta.url).href,S=""+new URL("../slider/3.webp",import.meta.url).href,T=""+new URL("../slider/4.webp",import.meta.url).href,I=""+new URL("../slider/1_small.webp",import.meta.url).href,k=""+new URL("../slider/2_small.webp",import.meta.url).href,N=""+new URL("../slider/3_small.webp",import.meta.url).href,U=""+new URL("../slider/4_small.webp",import.meta.url).href,c=[{imgBig:y,imgSmall:I},{imgBig:E,imgSmall:k},{imgBig:S,imgSmall:N},{imgBig:T,imgSmall:U}],B="_image__inner_12h1o_1",D="_image_12h1o_1",w={image__inner:B,image:D},p=({path:s})=>{const r=t.useRef(null),[o,n]=t.useState(!1);return t.useEffect(()=>{var i;(i=r.current)!=null&&i.complete&&n(!0)},[]),e.jsx("div",{className:w.image,style:{backgroundImage:`url(${s.imgSmall})`},children:e.jsx("img",{ref:r,src:s.imgBig,alt:"",className:w.image__inner,style:{opacity:o?1:0,transitionDuration:"0.2s"},onLoad:()=>n(!0),loading:"lazy"})})},V=()=>{const[s,r]=t.useState(0),[o,n]=t.useState(!0),[i,d]=t.useState(null),a=t.useRef(null),l=5e3,u=()=>{_(),a.current=setTimeout(u,l)};t.useEffect(()=>{a.current=setTimeout(u,l);const m=()=>{document.hidden?clearTimeout(a.current):(clearTimeout(a.current),a.current=setTimeout(u,l))};return document.addEventListener("visibilitychange",m),()=>{document.removeEventListener("visibilitychange",m),clearTimeout(a.current)}});const _=()=>{n(!0),r(m=>m+1),d("forward")},b=()=>{switch(i){case"forward":s===c.length&&(n(!1),r(0));break;case"backward":s===-1&&(n(!1),r(c.length-1));break}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:x.slider,children:e.jsxs("div",{className:x.slider__container,style:{transform:`translateX(-${(s+1)*100}%)`,transition:o?"transform 0.4s":""},onTransitionEnd:b,children:[e.jsx(p,{path:c[c.length-1]}),c.map((m,j)=>e.jsx(p,{path:m},j)),e.jsx(p,{path:c[0]})]})})})};function h({loader:s,fallback:r=null,rootMargin:o="0px",...n}){const i=t.useRef(),[d,a]=t.useState(null);return t.useEffect(()=>{if(!i.current)return;const l=new IntersectionObserver(([u])=>{if(u.isIntersecting){const _=t.lazy(s);a(()=>_),l.disconnect()}},{rootMargin:o});return l.observe(i.current),()=>l.disconnect()},[s,o]),e.jsx("div",{ref:i,children:d?e.jsx(t.Suspense,{fallback:r,children:e.jsx(d,{...n})}):r})}const A=()=>(L("ОИК | Официальный сайт | ОИК"),e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsx(h,{loader:()=>g(()=>import("./index-CfdoSfc7.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),fallback:e.jsx(f,{className:"container"}),rootMargin:"100px"}),e.jsx(h,{loader:()=>g(()=>import("./index-Cqm_J3NG.js"),__vite__mapDeps([4,1,2,5]),import.meta.url),fallback:e.jsx(f,{className:"container"}),type:"news"}),e.jsx(h,{loader:()=>g(()=>import("./index-Cqm_J3NG.js"),__vite__mapDeps([4,1,2,5]),import.meta.url),fallback:e.jsx(f,{className:"container"}),type:"portfolio"})]}));export{A as default};
